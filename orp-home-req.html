<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Request</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
    
	<style>
        .log{
            margin-left: 90%;
            
        }
    </style>
          
        
    

</head>
<body>
    <center>
        <h2>Enter the details for your new request</h2>
    </center>
    
    <a href="./orp-dash.html" class="log"><button>BACK</button></a>
    <br>
    <a href="./index.html" class="log"><button>LOGOUT</button></a>
    <div>
        <form id="reqform">
            <label for="exampleInputEmail1">Orphanage name</label>
            <input type="text" class="form-control" id="orpname" aria-describedby="emailHelp" placeholder="Enter your orphanage name...">

            <label for="">Address</label>             
            <input type="text" class="form-control" id="address" placeholder="Address">
            
        

            <label for="req-name">Mode of help</label>
            <input type="text" name="moh" id="moh" class="form-control">

            <label for="exampleFormControlTextarea1">Request Description</label>
            <textarea class="form-control" id="requestdesc" rows="7"></textarea>

            <label for="">Date</label>
            <input type="date" name="" id="date" class="form-control">
            <br>
            <button id="submit">Submit</button>
    
        </form>
    </div>





    <script>

        document.addEventListener('DOMContentLoaded',function(){

        
             const firebaseConfig = {
                //www.akashpugal2001-->akash database in firebase
                apiKey: "AIzaSyAunBfkExFI3QaqPDANrN9NEzu1Ap1fDJc",
                authDomain: "akash-f8aeb.firebaseapp.com",
                databaseURL:"https://akash-f8aeb-default-rtdb.firebaseio.com",
                projectId: "akash-f8aeb",
                storageBucket: "akash-f8aeb.appspot.com",
                messagingSenderId: "629932041384",
                appId: "1:629932041384:web:88584748091c736a10ce9d"
            };
            
            firebase.initializeApp(firebaseConfig);

        
        
            var messagesRef = firebase.database()
                 .ref('Collected Data');
            document.getElementById('reqform').addEventListener('submit',submitForm);
            function submitForm(e){
                e.preventDefault();
                var orpname=document.getElementById('orpname').value;
                var address=document.getElementById('address').value;
                var moh=document.getElementById('moh').value;
                var requestdesc=document.getElementById('requestdesc').value;
                var date=document.getElementById('date').value;

                saveMessage(orpname,address,moh,requestdesc,date);
                document.getElementById('reqform').reset();
            }



            function saveMessage(orpname,address,moh,requestdesc,date){
                var newMessageRef=messagesRef.push();
                    newMessageRef.set({
                    orpname:orpname,
                    address:address,
                    moh:moh,
                    requestdesc:requestdesc,
                    date:date
                });
            }
        });
        
        
        
    </script>

  </body>
</html>